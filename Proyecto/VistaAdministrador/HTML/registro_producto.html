<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nuevo Producto</title>
  <link rel="stylesheet" href="../CSS/reg_producto.css" />
</head>
<body>

  <div class="sidebar">
    <div class="logo">
      <img src="/VistaTienda/IMG/icon-level-up.png" alt="Logo">Level-Up
    </div>

    <nav class="menu">
      <a href="Home_ad.html">üìä Dashboard</a>
      <a href="listado_produc.html" class="active">üì¶ Productos</a>
      <a href="#">üìë Reportes</a>
      <a href="listado_usuario.html">üë®‚Äçüíº Empleados</a>
      <a href="#">üë• Clientes</a>
    </nav>

    <div class="bottom-menu">
      <a href="#">‚öôÔ∏è Configuraci√≥n</a>
      <a href="#">üôç Perfil</a>
      <a href="#">‚ùì Help</a>
    </div>

    <div class="profile">
      <span>üë§</span> Admin
    </div>
  </div>

  <div class="main">
    <div class="header">
      <h1>NUEVO PRODUCTO</h1>
    </div>

    <div class="form-container">
      <form id="productForm">
        <h3>Registro de producto</h3>

        <label for="nombre">Nombre del producto</label>
        <input type="text" id="nombre" name="nombre" required>

        <label for="sku">SKU (c√≥digo)</label>
        <input type="text" id="sku" name="sku" required>

        <label for="categoria">Categor√≠a</label>
        <input type="text" id="categoria" name="categoria" required>

        <label for="precio">Precio</label>
        <input type="number" id="precio" name="precio" step="0.01" min="0" required>

        <label for="stock">Stock</label>
        <input type="number" id="stock" name="stock" min="0" required>

        <label for="descripcion">Descripci√≥n (opcional)</label>
        <textarea id="descripcion" name="descripcion" rows="3"></textarea>

        <div class="select-row">
          <div>
            <label for="proveedores">Proveedores</label>
            <select id="proveedores" name="proveedores" size="4">
              <option>Proveedor A</option>
              <option>Proveedor B</option>
              <option>Proveedor C</option>
              <option>Proveedor D</option>
            </select>
          </div>

          <div>
            <label for="ubicacion">Ubicaci√≥n / Almac√©n</label>
            <select id="ubicacion" name="ubicacion" size="4">
              <option>Bodega Central</option>
              <option>Almac√©n Norte</option>
              <option>Almac√©n Sur</option>
              <option>Mostrador</option>
            </select>
          </div>
        </div>

        <button type="submit" class="btn-submit">AGREGAR PRODUCTO</button>
      </form>
    </div>
  </div>

  <script>
    document.getElementById('productForm').addEventListener('submit', function(e){
      e.preventDefault();

      const nuevoProducto = {
        nombre: document.getElementById('nombre').value.trim(),
        sku: document.getElementById('sku').value.trim(),
        categoria: document.getElementById('categoria').value.trim(),
        precio: parseFloat(document.getElementById('precio').value) || 0,
        stock: parseInt(document.getElementById('stock').value) || 0,
        descripcion: document.getElementById('descripcion').value.trim(),
        proveedores: Array.from(document.getElementById('proveedores').selectedOptions).map(o => o.value),
        ubicacion: Array.from(document.getElementById('ubicacion').selectedOptions).map(o => o.value),
        fecha: new Date().toISOString().slice(0,10)
      };

      const productos = JSON.parse(localStorage.getItem('productos')) || [];
      productos.push(nuevoProducto);
      localStorage.setItem('productos', JSON.stringify(productos));

      alert('Producto agregado con √©xito ‚úÖ');

      window.location.href = 'listado_produc.html';
    });
  </script>
</body>
</html>

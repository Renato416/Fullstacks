<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Productos - LEVEL-UP GAMER</title>
<link rel="stylesheet" href="../CSS/listaProducto.css">
</head>
<body>

<header class="Header">
  <div class="Logo-container">
    <a href="index.html">
      <img src="../IMG/icon-level-up.png" alt="Logo" class="Logo">
    </a>
    <h1 class="Nombre-empresa">LEVEL-UP GAMER</h1>
  </div>
  <nav class="nav">
    <a href="index.html">Inicio</a>
    <a href="listaProducto.html">Productos</a>
    <a href="#">Nosotros</a>
    <a href="blog.html">Blogs</a>
    <a href="contacto.html">Contactos</a>
  </nav>
  <div class="Carrito">
    <button class="button-carrito">
      <span class="carrito-text">Productos (0)</span>
      <a href="carrito_compras.html">
        <img src="../IMG/carrito-icon.png" alt="Icono del carrito" class="icono-carrito">
      </a>
    </button>
    <div class="inicio-registrar">
      <a href="LoginUser.html" class="InicioLink">Inicio de sesión</a>
      <a href="UserRegister.html" class="InicioLink">Registrar usuario</a>
    </div>
  </div>
</header>

<main>
  <h2>PRODUCTOS</h2>
  <div class="productos-grid">

    <div class="producto" data-nombre="Audifonos GAMER" data-precio="64990" data-img="../IMG/IMG-PRODUCTOS/audifonos.jpeg">
      <img src="../IMG/IMG-PRODUCTOS/audifonos.jpeg" alt="audifonos GAMER" class="audifonos">
      <p class="titulo">Audifonos GAMER</p>
      <p class="precio">$64.990</p>
      <button class="add-cart">Añadir</button>
    </div>

    <div class="producto" data-nombre="Silla GAMER" data-precio="72990" data-img="../IMG/IMG-PRODUCTOS/silla.jpeg">
      <img src="../IMG/IMG-PRODUCTOS/silla.jpeg" alt="silla GAMER" class="silla">
      <p class="titulo">Silla GAMER</p>
      <p class="precio">$72.990</p>
      <button class="add-cart">Añadir</button>
    </div>

    <div class="producto" data-nombre="Escritorio GAMER" data-precio="70990" data-img="../IMG/IMG-PRODUCTOS/Escritorio.webp">
      <img src="../IMG/IMG-PRODUCTOS/Escritorio.webp" alt="escritorio GAMER" class="escritorio">
      <p class="titulo">Escritorio GAMER</p>
      <p class="precio">$70.990</p>
      <button class="add-cart">Añadir</button>
    </div>

    <div class="producto" data-nombre="Mando de Xbox GAMER" data-precio="79990" data-img="../IMG/IMG-PRODUCTOS/Mando.webp">
      <img src="../IMG/IMG-PRODUCTOS/Mando.webp" alt="mando GAMER" class="mandoxbox">
      <p class="titulo">Mando de Xbox GAMER</p>
      <p class="precio">$79.990</p>
      <button class="add-cart">Añadir</button>
    </div>

    <div class="producto" data-nombre="Mouse GAMER" data-precio="28990" data-img="../IMG/IMG-PRODUCTOS/Mause.webp">
      <img src="../IMG/IMG-PRODUCTOS/Mause.webp" alt="mouse GAMER" class="mouse">
      <p class="titulo">Mouse GAMER</p>
      <p class="precio">$28.990</p>
      <button class="add-cart">Añadir</button>
    </div>

    <div class="producto" data-nombre="Mousepad GAMER" data-precio="6990" data-img="../IMG/IMG-PRODUCTOS/mausepad.avif">
      <img src="../IMG/IMG-PRODUCTOS/mausepad.avif" alt="mousepad GAMER" class="mousepad">
      <p class="titulo">Mouse-pad GAMER</p>
      <p class="precio">$6.990</p>
      <button class="add-cart">Añadir</button>
    </div>

    <div class="producto" data-nombre="Monitor GAMER" data-precio="134990" data-img="../IMG/IMG-PRODUCTOS/monitor.jpeg">
      <img src="../IMG/IMG-PRODUCTOS/monitor.jpeg" alt="monitor GAMER" class="monitor">
      <p class="titulo">Monitor GAMER</p>
      <p class="precio">$134.990</p>
      <button class="add-cart">Añadir</button>
    </div>

    <div class="producto" data-nombre="Teclado GAMER" data-precio="15990" data-img="../IMG/IMG-PRODUCTOS/Teclado.webp">
      <img src="../IMG/IMG-PRODUCTOS/Teclado.webp" alt="teclado GAMER" class="teclado">
      <p class="titulo">Teclado GAMER</p>
      <p class="precio">$15.990</p>
      <button class="add-cart">Añadir</button>
    </div>

  </div>
</main>

<script>
function actualizarContador(){
  const carrito = JSON.parse(localStorage.getItem('carrito')) || [];
  const total = carrito.reduce((acc, p) => acc + p.cantidad, 0);
  document.querySelector('.carrito-text').textContent = `Productos (${total})`;
}

document.addEventListener('DOMContentLoaded', () => {
  actualizarContador();

  document.querySelectorAll('.add-cart').forEach(btn => {
    btn.addEventListener('click', () => {
      const prodDiv = btn.parentElement;
      const producto = {
        nombre: prodDiv.dataset.nombre,
        precio: parseFloat(prodDiv.dataset.precio),
        img: prodDiv.dataset.img,
        cantidad: 1
      };

      let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
      const index = carrito.findIndex(p => p.nombre === producto.nombre);
      if(index >= 0){
        carrito[index].cantidad++;
      } else {
        carrito.push(producto);
      }

      localStorage.setItem('carrito', JSON.stringify(carrito));
      actualizarContador();
      alert(`${producto.nombre} agregado al carrito ✅`);
    });
  });
});
</script>

</body>
</html>
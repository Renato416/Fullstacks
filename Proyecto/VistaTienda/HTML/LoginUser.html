<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio de sesión</title>
    <link rel="stylesheet" href="../CSS/styles.css"/>
    <link rel="stylesheet" href="../CSS/inicioSesion.css"/>
</head>
<body>
   <header class="Header">
        <div class="Logo-container">
            <a href="index.html">
                <img src="../IMG/icon-level-up.png" alt="Logo de la empresa" class="Logo">
            </a>
        <h1 class="Nombre-empresa">LEVEL-UP GAMER</h1>
        </div>
        <nav class="nav">
            <a href="index.html">Inicio</a>
            <a href="listaProducto.html">Productos</a>
            <a href="#">Nosotros</a>
            <a href="blog.html">Blogs</a>
            <a href="contacto.html">Contactos</a>
        </nav>
        <div class="Carrito">
            <button class="button-carrito">
                <span class="carrito-text">Productos (0)</span>
                <a href="carrito_compras.html">
                <img src="../IMG/carrito-icon.png" alt="Icono del carrito" class="icono-carrito">
                </a>
            </button>
            <div class="inicio-registrar">
                <a href="LoginUser.html" class="InicioLink">Inicio de sesión</a>
                <a href="UserRegister.html" class="InicioLink">Registrar usuario</a>
            </div>
        </div>
    </header>
    
    <main class="InicioSesion-container"><h1>Inicio de sesión</h1></main>

    <form class="form-login" id="loginForm">
        <label for="correo">Correo:</label>
        <input type="email" id="correo" name="correo" required>

        <label for="contrasena">Contraseña:</label>
        <input type="password" id="contrasena" name="contrasena" required>

        <button type="submit">Iniciar Sesión</button>
    </form>

    <script>
        const loginForm = document.getElementById('loginForm');

        loginForm.addEventListener('submit', function(e) {
            e.preventDefault(); 

            const correo = document.getElementById('correo').value.trim();

            if (correo.endsWith('@duocuc.cl')) {
                
                window.location.href = '../../VistaAdministrador/HTML/Home_ad.html';
            } else {
                alert('Acceso denegado: solo usuarios @duocuc.cl pueden entrar en esta demo.');
            }
        });
    </script>
</body>
<script>

function actualizarContadorCarrito() {
    const carrito = JSON.parse(localStorage.getItem('carrito')) || [];
    const totalItems = carrito.reduce((acc, producto) => acc + producto.cantidad, 0);
    const contador = document.querySelector('.carrito-text');
    if(contador) {
        contador.textContent = `Productos (${totalItems})`;
    }
}


document.addEventListener('DOMContentLoaded', actualizarContadorCarrito);
</script>

</html>
